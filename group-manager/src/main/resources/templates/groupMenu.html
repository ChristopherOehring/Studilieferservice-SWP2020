<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="../static/groupmanager/groupMenu.css" th:href="@{/groupmanager/groupMenu.css}"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Patua One' rel='stylesheet'>
<title>Dashboard</title>
</head>
<body>

    <h1>Dashboard</h1>

    <button class="backButton">
        <a th:href="${'http://' + link + ':9010/web/groupmanager/userMenu'}">
            <img src="../static/groupmanager/imgs/backButton.png" width="30" height="30"
                 th:src="@{/groupmanager/imgs/backButton.png}"/>
            Back
        </a>
    </button>

    <div class="members-bar">
        <div class="memberTitleBox">
            <h2>Members</h2>
        </div> 
        <div class="membersList">
            <table class="memTable">
                <!-- List of Admins -->
                <tr class="memTr"> <!-- TODO: adjust -->
                    <td class="memTd">
                        <img class="image" src="../static/groupmanager/imgs/crown-3-128.png" alt=" " th:src="@{/groupmanager/imgs/crown-3-128.png}">
                    </td>
                    <td class="memTd">
                        <p th:text="${owner.getUserName()}"></p>
                    </td>
                    <td class="memTd">
                        <img class="image" th:if="member.hasSubmitted" src="../static/groupmanager/imgs/checkmark-128.png" alt="" th:src="@{/groupmanager/imgs/checkmark-128.png}">
                    </td>
                </tr>

                <tr class="memTr" th:each="member: ${adminList}"> <!-- TODO: adjust -->
                    <td class="memTd">
                        <img class="image" src="../static/groupmanager/imgs/crown-3-128.png" alt=" " th:src="@{/groupmanager/imgs/crown-3-128.png}">
                    </td>
                    <td class="memTd">
                        <p th:text="${member.getUserName()}"></p>
                    </td>
                    <td class="memTd">
                        <img class="image" th:if="member.hasSubmitted" src="../static/groupmanager/imgs/checkmark-128.png" alt="" th:src="@{/groupmanager/imgs/checkmark-128.png}">
                    </td>
                </tr>

                <!-- List of the other Members -->
                <tr class="memTr" th:each="member: ${memberList}">
                    <td class="memTd">
                        &emsp;
                    </td>
                    <td class="memTd">
                        <p th:text="${member.getUserName()}"></p>
                    </td>
                    <td class="memTd">
                        <img class="image" th:if="member.hasSubmitted" src="../static/groupmanager/imgs/checkmark-128.png" alt=""
                             th:src="@{/groupmanager/imgs/checkmark-128.png}">
                    </td>
                </tr>
            </table>
        </div>

        <div class="inviteMember">
            <form th:action="${'http://' + link + ':9010/web/groupmanager/invite'}" th:object="${groupAndUserBody}" method="POST">
                <div class="inviteUsername">
                    <input class="username" name="email" type="text" th:field="*{email}" placeholder="user-email" style="border-bottom: none">
                </div>
                <input type="hidden" name="groupId" id="groupId" th:field="*{groupId}">
                <div class="inviteButton">
                    <input type="submit" value="invite someone" id="inviteButton">
                </div>
            </form>
            
        </div>
    </div>

    <div class="chat">
        <rewe-digital-include th:path="${'http://chat-manager:8040/chat/' + groupId }"></rewe-digital-include>
    </div>

    <div class="shopping-list">
        <rewe-digital-include th:path="${'http://shopping-list-manager:8070/web/shoppingList/' + groupId}"></rewe-digital-include>
    </div>

    <div class="shipping-information">
        <table class="delTable">
            <tr class="delTr">
                <td class="delTd">delivery date:</td>
                <td class="delTd">
                    <!-- TODO: adjust! -->
                    Mo, 01.01.2020
                </td>
                <td class="delTd">
                    <input type="image" src="../static/groupmanager/imgs/edit.png"
                           th:src="@{/groupmanager/imgs/edit.png}"/>
                </td>
            </tr>
            <tr class="delTr">
                <td class="delTd">delivery adress:</td>
                <td class="delTd">
                    <!-- TODO: adjust! -->
                    123456 Model City, <br>
                    Modelstreet 42
                </td>
                <td class="delTd">
                    <input type="image" src="../static/groupmanager/imgs/edit.png"
                           th:src="@{/groupmanager/imgs/edit.png}"/>
                </td>
            </tr>
    </table>        
    </div>

    <div class="orderButton">
        <input type="button" id="orderButton" value="order">
    </div>

</body>
</html>